---
slug: the-strength-in-weak-data-part-2
title: "The Strength in Weak Data Part 2: Zonal Statistics"
authors: [kristin]
tags: [crop,yield,agriculture]
image: https://fused-magic.s3.us-west-2.amazonaws.com/blog-assets/social_kristin.png
hide_table_of_contents: false
keywords: [crop,yield,agriculture]
unlisted: true
---

Hey spatial data scientists! Ready to dive back in? Last time, we teased the magic of turning weak data into powerful insights. Let's continue that journey!

In this blog post, I'll show how I created a UDF to performe Zonal Statistics on a crop yield mask.

import ReactPlayer from 'react-player'

<ReactPlayer className="video__player" playing={true} muted={true} controls height="100%" url="https://fused-magic.s3.us-west-2.amazonaws.com/blog-assets/kristin2_1080.mp4" width="100%" />



{/* truncate */}

## Quick Recap

In [Part 1](/blog/the-strength-in-weak-data/), we explored county-level corn yield data and used Solar Induced Fluorescence (SIF) as our predictor. Now, we're unlocking how to **strengthen weak data** by merging multiple spatial data sources.

## Transforming Weak Data

Think of weak data as a puzzle with missing pieces. By combining different data sources, we complete the picture with clarity and confidence.

Let me take you to Lyon, the county in Iowa where I grew up:

import ImgK1 from '/blog/2024-10-17-kristin/k1.png';

<div style={{textAlign: 'center'}}>
<img src={ImgK1} alt="File" style={{width: 800}} />
</div>

In Lyon, Farming isn't static—corn fields rotate with soybeans or cover crops yearly, adding noise to our data. Here's a 25 km² area:

import ImgK2 from '/blog/2024-10-17-kristin/k2.png';

<div style={{textAlign: 'center'}}>
<img src={ImgK2} alt="File" style={{width: 800}} />
</div>


This block includes not only farmland but also trees, towns, and water bodies. Our challenge is to isolate the specific areas where corn is grown to enhance the precision of our analysis.

## Masking crop areas with a UDF

To tackle this, I created a Fused User Defined Function (UDF) that reads the USDA Cropland Data Layer. This allowed me to specify the year and crop type to identify of corn-growing regions. You can see the UDF code [here](https://www.fused.io/workbench/catalog/Crop_Mask_Zonal_Statistics-dc1e6bf9-e2e6-4a1b-9061-094bc4825978) and even clone it to your Fused workspace.




[video of udf]


Here's the magic:

1. **SIF Data:** Display SIF for a specific month from a NetCDF file.
2. **Corn Areas:** Map corn cultivation that year from a GeoTIFF file of the [Cropland Data Layer](https://nassgeodata.gmu.edu/CropScape/) (CDL) data product.
3. **Precision Clipping:** Clip layers to show SIF values only where corn grows.
4. **Zonal Statistics:** Aggregate the SIF that incides on corn crops for each county.

import ImgK3 from '/blog/2024-10-17-kristin/k3.png';

<div style={{textAlign: 'center'}}>
<img src={ImgK3} alt="File" style={{width: 800}} />
</div>


**Voila!** From one county's weak data to creating summary statistics for the county. This provides the ingredients to boost the prediction strength and reducing noise in the prediction model we want to build.

## Scaling Up

Applying this to **400 Midwest counties** transforms our dataset from 400 to **60 million points**. The results?

- **Enhanced Statistical Power:** More data means more reliable predictions.
- **Accuracy:** Predictions align closely with actual outcomes.

import ImgK4 from '/blog/2024-10-17-kristin/k4.png';

<div style={{textAlign: 'center'}}>
<img src={ImgK4} alt="File" style={{width: 800}} />
</div>


## Simple with Fused

With tools like Fused, merging spatial data is straightforward. Turn weak, unreliable data into a powerhouse of insights effortlessly.

## Ready to Transform?

Curious to see the magic? Interact with the UDF in the Fused UDF Editor and elevate your data from weak to strong. Harness your data's full potential and make impactful decisions!

Feel free to reach out if you have any questions.
