---
slug: how-digitaltwinsim-models-wireless-networks-with-duckdb-ibis-and-fused
title: "How DigitalTwinSim Models Wireless Networks with DuckDB, IBIS, and Fused"
authors: [sameer]
tags: [introduction]
unlisted: true
image: https://fused-magic.s3.us-west-2.amazonaws.com/blog-assets/social_jennings.png
hide_table_of_contents: false
keywords: [introduction]
---

Sameer, co-founder of DigitalTwinSim, leads the development of advanced geospatial analysis tools to support the telecom industry in strategic network planning. DigitalTwinSim specializes in using high-resolution data to optimize the placement of network towers in urban areas, ensuring reliable, high-speed connectivity.


In this blog post, Sameer shares how he leverages IBIS, DuckDB, and Fused to model wireless networks at high resolution, allowing him to quickly generate network coverage models for his clients. He explains and shares a Fused UDF to process data an H3 grid to evaluate the optimal location for network towers.

{/* truncate */}

### Introduction


We have traditionally used high-resolution Vexcel data for modeling mmWave, Microwave, or FSO networks.

For Broadband Equity Access and Deployment (BEAD) Program, since we need to guarantee 100/20 Mbps, we decided to use 7.5cm resolution data from Vexcel Data Program to model the network and ensure that our clients can meet the requirements of the program.

[describe unserved/underdeserved projects, and what goes into selecting a technology for them ]
[what decision will the UDF help make?]

## Modeling Methodology

In the past, our analytics was done using Dask and Pandas. However, we have recently started using Ibis with a DuckDB backend.

We model wireless networks using an H3 grid at resolution 15, which translates to approximately 0.895 square meters per cell. This results in about 111 million H3 indexes within a 10 square kilometer city area. The objective of identifying the best serving site for each H3 index presents us with the challenge of processing 111 million groups, each containing between 5-10 rows.

Previously, such operations were conducted with a combination of Pandas and Dask, navigating through the challenges posed by CPU and memory constraints. DuckDB’s introduction into our workflow has markedly alleviated these constraints, enabling us to perform complex group_by operations effortlessly. For example, a straightforward Ibis command leveraging the DuckDB backend capably handles these tasks:

```python useLineNumbers
Table.agg(by=['h15'], Rx_dBm=_.Rx.dBm.max())
```

This efficiency is maintained irrespective of the dataset size or available memory.

Laurens Kuiper’s blog post “No Memory? No Problem. External Aggregation in DuckDB” on DuckDB’s approach to scaling up grouped aggregations offers an insightful explanation that directly relates to our work in modeling wireless networks at high resolution. By utilizing DuckDB, we at DigitalTwinSim have inadvertently taken advantage of its capability to efficiently manage extensive data aggregations. Because of these analytic capabilities, we have been able to scale up our projects.

This now brings new challenges in visualizing the datasets. We traditionally have used QGIS for our visualization with GeoParquet as our file store. Unfortunately, with the amount of data from each site at H3 resolution 15, it’s no longer feasible to easily filter outputs in QGIS in an interactive manner. On that front, tools like Fused are critical as we can now take our raw output and use Fused to filter and visualize the data in a more interactive manner. This can then also be shared with our clients for them to understand the network design and the coverage areas.

## Sample UDF

...

## Conclusion

## Reference

...
