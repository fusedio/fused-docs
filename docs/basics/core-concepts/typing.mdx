---
id: typing
title: Typing
tags: [typing]
sidebar_position: 4
---

Fused UDFs support [Python function annotations](https://peps.python.org/pep-3107/). Annotated parameters convert to the specified type before the UDF is called.

This is important to ensure that parameters serialized on HTTP calls resolve to the intended type. For example, the UDF below takes an integer and a dictionary, and is annotated as follows.

```python
from typing import Dict
import fused

@fused.udf
def udf(my_param: int, my_dict: Dict):
    print(my_param, type(my_param)) # int
    print(my_dict, type(my_dict)) # Dict
```

## Supported types
This feature is under active development. Presently supported types are `int`, `float`, `bool`, `list`, `dict`, `List`, `Dict`, `Iterable`, `uuid.UUID`, `Optional[]`, and `gpd.GeoDataFrame` from a geojson. `Union` is not supported. Parameters that are not annotated are handled as string.

Fused also exposes special types to specify whether the output in Workbench should be handled as [`Tile` or `File`](/basics/core-concepts/#udf-execution-modes-file-tile). These are `fused.types.TileXYZ` and `fused.types.TileGDF` respectively. The `bbox` parameter is typed as `fused.types.Bbox`. You can read about them in the [`bbox` object types](/basics/core-concepts/#bbox-object-types) section of the documentation.

## The `gpd.GeoDataFrame` type

A common pattern in geospatial is to run operations on arbitrary used-defined polygons. UDFs can accept a `gpd.GeoDataFrame` type parameter if serialized as a stringified GeoJSON object. This is because Fused needs a serializable object to pass to the UDF via an API call and `GeoDataFrames` don't seriallize well. To address this, the `gpd.GeoDataFrame` type signals Fused to type cast the input GeoJSON string to a `GeoDataFrame`. 

For example the following UDF accepts a `gpd.GeoDataFrame` type for the `target_gdf` parameter. 

```python
import geopandas as gpd

@fused.udf
def my_udf(target_gdf: gpd.GeoDataFrame=None):
    return target_gdf
```

When calling the UDF with a GeoJSON string for the `target_gdf` parameter, Fused will automatically convert the string to a `GeoDataFrame` object.

```python
import fused
import geopandas as gpd
import json

target_geom = json.dumps({"type":"FeatureCollection","features":[{"type":"Feature","properties":{},"geometry":{"type":"Polygon","coordinates":[[[-122.51121183018593,37.77096317381872],[-122.47612122306056,37.77228925202057],[-122.44351531587931,37.77597823096521],[-122.44362991745042,37.7664402812457],[-122.50998289649768,37.76279226591039],[-122.51121183018593,37.77096317381872]]]}}]})

gdf = fused.run(my_udf, target_gdf=target_geom)

```




