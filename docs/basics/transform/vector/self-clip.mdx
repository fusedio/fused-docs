# Self-clip

```python
# TODO: pass in a GeoDataFrame as an argument
@fused.udf
def udf():
    import geopandas as gpd
    from shapely.geometry import Polygon

    # Define GeoDataFrame with simple polygons around San Francisco
    polygon1 = Polygon([(-123.0, 37.6), (-122.4, 37.6), (-122.4, 37.9), (-123.0, 37.9)])
    polygon2 = Polygon([(-122.6, 37.7), (-122.0, 37.7), (-122.0, 38.0), (-122.6, 38.0)])
    gdf = gpd.GeoDataFrame({'geometry': [polygon1, polygon2]})

    # Perform the self-clip operation
    return gpd.overlay(gdf, gdf, how='intersection')
```

import Iframe from "@site/src/components/Iframe";

<Iframe
  id="self-clip"
  url="https://staging.fused.io/workbench#app/s/aH4sIAAAAAAAAA3VSTY%2FaMBD9K5F7ASlACAQcpJy20kpVb5V6IavIxJNgYWyvbdjNVv3vHQeWL20nlvLmvRnPjDx%2FSK05kBURe6Otj1rQhinOXISnNbxUZ8F0HOpdYA3fXVjnLbC9FD4Izl%2F45uCAV8yYUoXP%2BbEXXsKgJE9SmJIMA8ubqLhGju1BoT7Pc0ppRtOsaaZsscln8yyZJQusvswTaHi2nOV0w7KUZlO2mc9y4DTNac1ovkmS5ny3VG0cSeaxwmA0TdNxFkez5XjRi9%2BiJ2zbQ7Rnpm%2FuNFxVb5n1g1JFaDjl%2BDuSZzcYRlfOdxKKkiDe6PfVZNITbnLyJ5zZ3eiYlyS%2BpgklvGCyOgp4w3ysW4TLf6P7K3g3FYJh08IfOBQI4gdJq%2Fas4Xj32ofW%2B4I%2BkEb4elskN%2BzwBkvWgXXF%2BiEHe%2FsZlIe%2BgpXkGfQPp1UfcDflp3HmWcGbL5QWfNUIKataS22LdZrhm6ThXZI4osnLf1KkUHCfgucxeHh1PyWkhiQmFl4PwsIelHdktSaXBT9r4HyA78xa1iHomJX4O21EDxqp3%2FrNQK%2B1zGyP4gPhZfVHrAby8vcf73Gwh0oDAAA%3D"
/>
