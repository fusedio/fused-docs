---
title: Convert Data to H3
sidebar_label: Convert to H3
sidebar_position: 3
description: How to convert points and polygons to H3 hexagons
keywords: [convert to h3, h3 conversion, points to h3, polygon to h3]
---

# Convert Data to H3

Convert your data to H3 hexagons for aggregation and analysis.

## Points to H3

### Single Point

```python
import h3

lat, lon = 37.7749, -122.4194
hex_id = h3.latlng_to_cell(lat, lon, resolution=9)
```

### DataFrame with Lat/Lon

```python
import h3
import pandas as pd

df = pd.read_csv("s3://bucket/points.csv")

df['hex'] = df.apply(
    lambda row: h3.latlng_to_cell(row['lat'], row['lon'], 9), 
    axis=1
)
```

### GeoPandas Point Geometry

```python
import h3
import geopandas as gpd

gdf = gpd.read_file("s3://bucket/points.geojson")

gdf['hex'] = gdf.geometry.apply(
    lambda g: h3.latlng_to_cell(g.y, g.x, 9)
)
```

## Polygons to H3

### Fill Polygon with Hexagons

```python
import h3
from shapely.geometry import shape

polygon = {"type": "Polygon", "coordinates": [...]}
hexes = h3.geo_to_cells(shape(polygon), resolution=9)
```

### GeoDataFrame Polygons

```python
import h3

def polygon_to_hexes(geom, res=9):
    return list(h3.geo_to_cells(geom, res))

gdf['hexes'] = gdf.geometry.apply(lambda g: polygon_to_hexes(g, 9))

# Explode to one row per hex
gdf_exploded = gdf.explode('hexes').rename(columns={'hexes': 'hex'})
```

### Using Fused Common Utils

```python
common = fused.load("https://github.com/fusedio/udfs/tree/main/public/common/")
hex_gdf = common.gdf_to_hex(gdf, res=9)
```

## Dynamic Resolution

Choose resolution based on the current map viewport:

```python
@fused.udf
def udf(bounds: fused.types.Bounds = None):
    common = fused.load("https://github.com/fusedio/udfs/tree/main/public/common/")
    
    # Auto-select resolution based on zoom
    res = common.bounds_to_res(bounds)
    
    # Load and convert data
    gdf = load_data(bounds)
    hex_gdf = common.gdf_to_hex(gdf, res=res)
    
    return hex_gdf
```

## Next Steps

- [H3 Aggregation](/guide/h3-hexagons/h3-aggregation) - Aggregate by hexagon
- [Resolution Guide](/guide/h3-hexagons/h3-resolution-guide) - Choose the right resolution

> ðŸ“º **Tutorial:** See [File to H3](/tutorials/Geospatial%20with%20Fused/h3-tiling/file-to-h3) for a complete example.

