---
title: File Formats Guide
sidebar_label: File Formats
sidebar_position: 7
description: When to use different file formats - Parquet, GeoParquet, COG, etc.
---

# Choosing the Right File Format

Different formats have different strengths. Here's when to use each.

## Quick Recommendations

| Data Type | Recommended Format | Why |
|-----------|-------------------|-----|
| Tabular data | **Parquet** | Columnar, compressed, fast queries |
| Vector geospatial | **GeoParquet** | Parquet benefits + geometry support |
| Raster imagery | **Cloud Optimized GeoTIFF (COG)** | Streaming, partial reads |
| Small datasets | **GeoJSON** or **CSV** | Human readable, easy to share |

---

## Vector Formats

### GeoParquet ⭐ Recommended

Best for large vector datasets. Columnar format with excellent compression.

```python
# Write
gdf.to_parquet("s3://bucket/data.parquet")

# Read
gdf = gpd.read_parquet("s3://bucket/data.parquet")
```

### GeoJSON

Good for small datasets and web visualization. Human-readable but verbose.

```python
# Write
gdf.to_file("data.geojson", driver="GeoJSON")

# Read  
gdf = gpd.read_file("data.geojson")
```

### Shapefile

Legacy format. Avoid for new projects - use GeoParquet instead.

---

## Raster Formats

### Cloud Optimized GeoTIFF (COG) ⭐ Recommended

Enables streaming and partial reads. Essential for large raster datasets.

```python
common = fused.load("https://github.com/fusedio/udfs/tree/main/public/common/")
arr, color_map = common.read_tiff(bounds, "s3://bucket/image.tif")
```

### Regular GeoTIFF

Use COG instead when possible. Regular GeoTIFFs require full download.

### NetCDF

Common for climate/weather data. Use xarray for reading.

```python
import xarray as xr
ds = xr.open_dataset("file.nc")
```

---

## Tabular Formats

### Parquet ⭐ Recommended

Best for analytics. Columnar, compressed, supports predicate pushdown.

```python
df = pd.read_parquet("s3://bucket/data.parquet")
```

### CSV

Universal but inefficient for large datasets. Good for sharing small data.

```python
df = pd.read_csv("s3://bucket/data.csv")
```

---

## Converting Formats

### CSV → Parquet

```python
import pandas as pd
df = pd.read_csv("data.csv")
df.to_parquet("data.parquet")
```

### Shapefile → GeoParquet

```python
import geopandas as gpd
gdf = gpd.read_file("data.shp")
gdf.to_parquet("data.parquet")
```

### GeoTIFF → COG

Use `rio cogeo` CLI or GDAL to create COGs:

```bash
rio cogeo create input.tif output_cog.tif
```

