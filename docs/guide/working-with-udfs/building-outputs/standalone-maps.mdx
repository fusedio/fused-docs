---
id: standalone-maps
title: Standalone Maps
sidebar_label: Standalone Maps
sidebar_position: 1
---

import LazyReactPlayer from '@site/src/components/LazyReactPlayer';

# Create Standalone Maps

In [Fused Canvas](/workbench/udf-builder/canvas/) you can create workflows by connecting UDFs together and visualizing them on a map.

We've created a simple UDF to serve as a [map utils library](https://github.com/fusedio/udfs/tree/main/community/milind/map_utils) to help you create standalone maps.

## How to visualize your UDF on a standalone map

In Canvas, create a simple UDF that returns a GeoDataFrame or a DataFrame with [hex cells](/guide/h3-analytics/aggregations).

```python
# vancouver_open_data
@fused.udf
def udf():
    import geopandas as gpd

    @fused.cache
    def load_geojson():
        # Load GeoJSON directly from the URL into a GeoDataFrame
        DATA_URL = "https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/geojson/vancouver-blocks.json"
        return gpd.read_file(DATA_URL)

    return load_geojson()
```

We have built a utils library to create common map visualizations using DeckGL:

```python
@fused.udf
def udf():
    data = fused.run('vancouver_open_data')
    
    # Load map utilities for creating interactive maps
    map_utils = fused.load("https://github.com/fusedio/udfs/tree/cdb119d/community/milind/map_utils/")
    
    config = {
        "vectorLayer": {
            "@@type": "GeoJsonLayer",
            "stroked": True,
            "filled": True,
            "pickable": True,
            "getLineColor": [100, 100, 100, 200],
            "getLineWidth": 2,
            "getFillColor": {
                "@@function": "colorContinuous", 
                "attr": "growth", 
                "domain": [1, -1], 
                "colors": "ArmyRose"
            },
            "tooltipColumns": ["valuePerSqm", "growth"]
        }
    }
    
    return map_utils.deckgl_layers([
        {
            "type": "vector",
            "data": data,
            "config": config,
            "name": "Vancouver Price Increase"
        }
    ])
```

This creates a simple map that you can then embed anywhere:

<iframe
  src="https://unstable.udf.ai/fsh_4C5aBW0j7YtyKyG2nQJji2.html"
  style={{ width: "100%", height: "500px", border: "none", borderRadius: "8px", marginTop: "16px", marginBottom: "16px" }}
  title="Standalone Map Demo"
  loading="lazy"
  allowFullScreen
/>

## Best Practices

### Ask AI to help create a map for you!

1. In Canvas, click on the (+) to create a dependency UDF to your data UDF.

2. Ask AI to create a map for you:

```text
Visualize this data on a standalone HTML map
```

<LazyReactPlayer 
  playsinline={true} 
  className="video__player" 
  playing={false} 
  muted={true} 
  controls 
  height="100%" 
  width="100%" 
  url="https://fused-magic.s3.us-west-2.amazonaws.com/workbench-walkthrough-videos/docs_rewrite/tutorials/dashboards/Creating_map_with_AI_compressed.mp4" 
/>

### Decouple your UDF from the map

Keep your data logic in a separate UDF from the map. This allows you to keep the 2 UDFs separate and iterate on them independently.

Data UDF: Loads data, manipulates it and returns a GeoDataFrame or a DataFrame.
Map UDF: Visualizes the data on a map with as little processing logic as possible.

### Use `debug=True` in the Map UDFs to build faster

In the Map UDF code using the `map_utils` library set `debug=True` to see the map being built in real time:

<iframe
  src="https://unstable.udf.ai/fsh_2oppRjJv5aJOBEpf6YMJjg.html"
  style={{ width: "100%", height: "500px", border: "none", borderRadius: "8px", marginTop: "16px", marginBottom: "16px" }}
  title="Standalone Map Demo 2"
  loading="lazy"
  allowFullScreen
/>

You can then copy the config from the debug mode, paste into your Map UDF and set `debug=False` to see the map in production.

## Examples

- Explore the [Canvas Catalog](/examples/canvas-examples)
- Create real time filtering maps with [DuckDB WASM](/examples/realtime-processing)

## Template Canvas

<div style={{
  display: "flex",
  justifyContent: "center",
  margin: "32px 0"
}}>
  <a
    href="https://www.fused.io/canvas/fc_7HChaG2esbHPv6U8XYoQGS"
    target="_blank"
    rel="noopener noreferrer"
    style={{
      display: "inline-flex",
      alignItems: "center",
      gap: "12px",
      padding: "18px 40px",
      fontSize: "1.2rem",
      fontWeight: "700",
      color: "#1a1a1a",
      background: "linear-gradient(135deg, #E5FF44 0%, #f0f0f0 100%)",
      border: "none",
      borderRadius: "12px",
      textDecoration: "none",
      boxShadow: "0 4px 20px rgba(229, 255, 68, 0.4)",
      transition: "all 0.2s ease",
      height: "64px", // Set a fixed height for vertical centering
      lineHeight: "64px", // Match line-height to height to perfectly center text
      verticalAlign: "middle" // Defensive, for height centering
    }}
    onMouseOver={e => {
      e.currentTarget.style.transform = "translateY(-3px)";
      e.currentTarget.style.boxShadow = "0 8px 30px rgba(229, 255, 68, 0.5)";
    }}
    onMouseOut={e => {
      e.currentTarget.style.transform = "translateY(0)";
      e.currentTarget.style.boxShadow = "0 4px 20px rgba(229, 255, 68, 0.4)";
    }}
  >
    <span style={{ display: "flex", alignItems: "center", height: "100%" }}>üñºÔ∏è Open Template Canvas</span>
  </a>
</div>


We put together a template Canvas you can use to see how to visualize:
- Static data (GeoDataFrame, DataFrame, etc.)
- [Tiled data](/guide/working-with-udfs/geospatial/single-vs-tile#tile-udf-udf) for any dataset too large to serve as a single file

:::tip Download this canvas to edit it yourself

You can download this canvas and then import it by drag & dropping the `.zip` file in your Workbench.

:::

<LazyReactPlayer
  url="https://fused-magic.s3.us-west-2.amazonaws.com/workbench-walkthrough-videos/docs_rewrite/tutorials/dashboards/map_templates_canvas_compressed.mp4"
  controls={true}
  width="100%"
  style={{ borderRadius: "12px", margin: "32px 0" }}
/>
