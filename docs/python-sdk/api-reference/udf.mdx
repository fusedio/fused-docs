---
sidebar_label: Udf (class)
title: Udf (class)
toc_max_heading_level: 5
sidebar_position: 0
---

## Udf

The `Udf` class is the object you get when defining a UDF with the
[`@fused.udf`](/python-sdk/api-reference/fused-udf) decorator, or when loading
a saved UDF with [`fused.load()`](/python-sdk/api-reference/fused-load).

## Properties

### name

The name of the UDF. Defaults to the function name.

### code

The source code of the UDF as a string.

### headers

Sequence of header files included with the UDF.

### metadata

Optional dictionary of metadata associated with the UDF.

### parameters

Dictionary of default parameters for the UDF.

### cache_max_age

Maximum cache age in seconds. `None` for default caching behavior.

### instance_type

The instance type to use for remote execution (e.g., `'realtime'`, `'small'`, `'medium'`, `'large'`).

### disk_size_gb

Disk size in GB for batch execution.

### region

AWS region for execution.

### entrypoint

The name of the entrypoint function within the UDF code.

### catalog_url

Returns the URL to open this UDF in the Workbench Catalog, or `None` if the UDF is not saved.

```python
udf = fused.load("my_udf")
print(udf.catalog_url)
# https://www.fused.io/workbench/catalog/my_udf-abc123
```

---

## Methods

### to_directory

```python
to_directory(where: str | Path | None = None, *, overwrite: bool = False)
```

Write the UDF to disk as a directory (folder).

**Parameters:**

- **where** (`str | Path | None`) – Path to a directory. If not provided, uses the UDF function name.
- **overwrite** (`bool`) – If True, overwriting is allowed.

---

### to_file

```python
to_file(where: str | Path | BinaryIO, *, overwrite: bool = False)
```

Write the UDF to disk as a zip file.

**Parameters:**

- **where** (`str | Path | BinaryIO`) – Path to a file or a file-like object.
- **overwrite** (`bool`) – If True, overwriting is allowed.

---

### to_fused

```python
to_fused(overwrite: bool | None = None)
```

Save this UDF to the Fused service.

**Parameters:**

- **overwrite** (`bool | None`) – If True, overwrite existing remote UDF.

**Example:**

```python
@fused.udf
def my_udf():
    return "Hello"

my_udf.to_fused()  # Save to Fused
my_udf.to_fused(overwrite=True)  # Update existing
```

---

### run_local

```python
run_local(*, inplace: bool = False, validate_imports: bool | None = None, **kwargs) -> UdfEvaluationResult
```

Evaluate this UDF locally against a sample.

**Parameters:**

- **inplace** (`bool`) – If True, update this UDF object with schema information.
- **validate_imports** (`bool | None`) – Whether to validate imports.
- ****kwargs** – Additional arguments to pass to the UDF.

**Example:**

```python
result = udf.run_local(x=0, y=0, z=0)
```

---

### schedule

```python
schedule(
    minute: list[int] | int,
    hour: list[int] | int,
    day_of_month: list[int] | int | None = None,
    month: list[int] | int | None = None,
    day_of_week: list[int] | int | None = None,
    udf_args: dict[str, Any] | None = None,
    enabled: bool = True
) -> CronJob
```

Schedule this UDF to run on a cron schedule.

**Parameters:**

- **minute** (`list[int] | int`) – Minute(s) to run (0-59).
- **hour** (`list[int] | int`) – Hour(s) to run (0-23).
- **day_of_month** (`list[int] | int | None`) – Day(s) of month (1-31). Default: every day.
- **month** (`list[int] | int | None`) – Month(s) (1-12). Default: every month.
- **day_of_week** (`list[int] | int | None`) – Day(s) of week (0-6, 0=Sunday). Default: every day.
- **udf_args** (`dict[str, Any] | None`) – Arguments to pass to the UDF.
- **enabled** (`bool`) – Whether the schedule is active.

**Example:**

```python
# Run every day at 8:00 AM
udf.schedule(minute=0, hour=8)

# Run every Monday at noon
udf.schedule(minute=0, hour=12, day_of_week=1)
```

---

### get_schedule

```python
get_schedule() -> CronJobSequence
```

Retrieve any scheduled runs of this UDF.

**Returns:**

- `CronJobSequence` – List of scheduled cron jobs.

---

### set_parameters

```python
set_parameters(
    parameters: dict[str, Any],
    replace_parameters: bool = False,
    inplace: bool = False
) -> Udf
```

Set the parameters on this UDF.

**Parameters:**

- **parameters** (`dict[str, Any]`) – The new parameters dictionary.
- **replace_parameters** (`bool`) – If True, unset any parameters not in the new dict.
- **inplace** (`bool`) – If True, modify this object. If False, return a new object.

**Example:**

```python
udf = udf.set_parameters({"table_path": "s3://my-bucket/data/"})
```

---

### create_access_token

```python
create_access_token(
    *,
    client_id: str | None = None,
    public_read: bool | None = None,
    access_scope: str | None = None,
    cache: bool = True,
    metadata_json: dict[str, Any] | None = None,
    enabled: bool = True
) -> UdfAccessToken
```

Create an access token for sharing this UDF.

**Parameters:**

- **client_id** (`str | None`) – Override which realtime environment to run under.
- **public_read** (`bool | None`) – Whether the token allows public read access.
- **access_scope** (`str | None`) – Access scope for the token.
- **cache** (`bool`) – If True, UDF tiles will be cached.
- **metadata_json** (`dict[str, Any] | None`) – Additional metadata for tiles.
- **enabled** (`bool`) – If True, the token can be used.

**Returns:**

- `UdfAccessToken` – The created access token.

---

### get_access_tokens

```python
get_access_tokens() -> UdfAccessTokenList
```

Get all access tokens for this UDF.

**Returns:**

- `UdfAccessTokenList` – List of access tokens.

---

### delete_cache

```python
delete_cache()
```

Delete the cached results for this UDF.

---

### delete_saved

```python
delete_saved(inplace: bool = True)
```

Delete this UDF from the Fused service.

**Parameters:**

- **inplace** (`bool`) – If True, update this object to reflect deletion.

---

### eval_schema

```python
eval_schema(inplace: bool = False) -> Udf
```

Reload the schema saved in the code of the UDF.

Note: This will evaluate the UDF function.

**Parameters:**

- **inplace** (`bool`) – If True, update this UDF object. Otherwise return a new UDF object.

---

### from_gist

```python
@classmethod
from_gist(gist_id: str) -> Udf
```

Create a UDF from a GitHub gist.

**Parameters:**

- **gist_id** (`str`) – The GitHub gist ID.

**Example:**

```python
udf = Udf.from_gist("abc123def456")
```
