---
id: quickstart
title: ⚡ Quickstart
sidebar_label: ⚡ Quickstart
sidebar_position: 0
---

# Quickstart: Building a Climate dashboard

### Install `fused`

```python
pip install "fused[all]"
```

Read more about installing Fused [here](/python-sdk/#python-install).

### Processing a Single Day: Mean temperature

```python
import fused
```

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs className="unique-tabs">
  <TabItem value="Pandas">

    {/* TODO: Update to write to file before return */}
    ```python
    @fused.udf
    def udf(
        date: str = '1950-01-01'
    ):
        import pandas as pd
        path: str='s3://fused-asset/data/era5/t2m_daily_mean_v31/'
        
        monthly_path = f"{path}month={date[:7]}/0.parquet" 
        df = pd.read_parquet(monthly_path, columns=[date])

        # single day
        mean_daily_temperature = df[[date]].mean().round(2)
        return mean_daily_temperature
    ```

  </TabItem>

  <TabItem value="DuckDB">
    ```python
    @fused.udf
    def udf(
      date: str = '1950-01-01'
    ):
        common = fused.load("https://github.com/fusedio/udfs/tree/7918aff/public/common/").utils
        con = common.duckdb_connect()
        
        path: str='s3://fused-asset/data/era5/t2m_daily_mean_v31/'
        monthly_path = f"{path}month={date[:7]}/0.parquet" 

        result = con.sql(
          f"SELECT ROUND(AVG(\"{date}\"), 2) as mean_temp FROM '{monthly_path}'"
        ).df()

        # Writing mean daily to individual file
        user_dir_filepath = f"s3://fused-users/fused/{fused.api.whoami()['handle']}/climate_data_all_same_col/mean_{date}.pq"
        result.to_parquet(user_dir_filepath)

        return result
    ```
  </TabItem>
</Tabs>

Run this UDF on Fused server:

```python
fused.run(udf)
```

```bash
276.43
```

### Computing mean daily temperature for 1950-1959 (33.5Gb in 1min!)

Explore the available data for yourself in [File Explorer](https://www.fused.io/workbench/files?path=s3%3A%2F%2Ffused-asset%2Fdata%2Fera5%2Ft2m_daily_mean_v31%2F)

We'll process 10 years of data:

```python
import pandas as pd
dates = pd.date_range('1950-01-01', '1959-12-31').strftime('%Y-%m-%d').tolist()
```

We can now run our previous UDF in parallel across 1,000 jobs:

```python
results = fused.submit(udf, dates, max_workers=1000, collect=False)
```

Tail the logs as the jobs run:

```python
results.tail()
```

See how long all the jobs took:

```python
results.total_time()
```

```bash
datetime.timedelta(seconds=67, microseconds=896063)
```

We just processed 10 years of worldwide global data in **1min 7s**!

Daily values are a bit too granular, let's instead get the monthly mean temperature:

```python
@fused.udf
def udf():
   common = fused.load("https://github.com/fusedio/udfs/tree/7918aff/public/common/").utils
   con = common.duckdb_connect()
   
   daily_temp_files = fused.api.list(f"s3://fused-users/fused/{fused.api.whoami()['handle']}/climate_data_all_same_col/")
   # daily_temp_files = daily_temp_files[:100]
   
   file_list = "', '".join(daily_temp_files)
   
   result = con.sql(f"""
       SELECT LEFT(REGEXP_EXTRACT(REGEXP_EXTRACT(filename, '[^/]+$'), '([0-9]{{4}}-[0-9]{{2}}-[0-9]{{2}})'), 7) as month,
              ROUND(AVG(mean_temp), 2) as monthly_mean_temp
       FROM read_parquet(['{file_list}'], filename=True)
       GROUP BY month
       ORDER BY month
   """).df()
   
   return result
```

We can now open this UDF in Workbench, Fused's web-based IDE:

```python
# Save to Fused
udf.to_fused("monthly_mean_temp_since_1950")

# Load again to get the Workbench URL
loaded_udf = fused.load("monthly_mean_temp_since_1950")
```

In a notebook returning the loaded UDF will give you a hyperlink `Workbench URL`:

```python
loaded_udf
```

Click on the link to open the UDF in Workbench. Click "+ Add to UDF Builder" 

You can now build a new Frame in Workbench.

{/* TODO: Add screenshots of Workbench */}




