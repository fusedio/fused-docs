---
slug: standalone-maps
title: Create Standalone Maps
---

import LazyReactPlayer from '@site/src/components/LazyReactPlayer';

# Create Standalone Maps

In [Fused Canvas](/workbench/udf-builder/canvas/) you can create workflows by connecting UDFs together and visualizing them on a map.

## How to visualize your UDF on a standalone map

In a canvas, create a simple UDF that returns a GeoDataFrame or a DataFrame with [hex cells](/tutorials/Geospatial%20with%20Fused/h3-tiling)

```python
# vancouver_open_data
@fused.udf
def udf():
    import geopandas as gpd

    @fused.cache
    def load_geojson():
        # Load GeoJSON directly from the URL into a GeoDataFrame
        DATA_URL = "https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/geojson/vancouver-blocks.json"
        return gpd.read_file(DATA_URL)

    return load_geojson()
```

We have built a utils library to create common map visualizations using DeckGL:

```python
@fused.udf
def udf():
    data = fused.run('vancouver_open_data')
    
    # Load map utilities for creating interactive maps
    map_utils = fused.load("https://github.com/fusedio/udfs/tree/cdb119d/community/milind/map_utils/")
    
    config = {
        "vectorLayer": {
            "@@type": "GeoJsonLayer",
            "stroked": True,
            "filled": True,
            "pickable": True,
            "getLineColor": [100, 100, 100, 200],
            "getLineWidth": 2,
            "getFillColor": {
                "@@function": "colorContinuous", 
                "attr": "growth", 
                "domain": [1, -1], 
                "colors": "ArmyRose"
            },
            "tooltipColumns": ["valuePerSqm", "growth"]
        }
    }
    
    return map_utils.deckgl_layers([
        {
            "type": "vector",
            "data": data,
            "config": config,
            "name": "Vancouver Price Increase"
        }
    ])
```

This creates a simple map like that you can then embed anywhere:

<iframe
  src="https://unstable.udf.ai/fsh_4C5aBW0j7YtyKyG2nQJji2.html"
  style={{ width: "100%", height: "500px", border: "none", borderRadius: "8px", marginTop: "16px", marginBottom: "16px" }}
  title="Standalone Map Demo"
  loading="lazy"
  allowFullScreen
/>

## Best Practices

### Ask AI to help create a map for you!

1. In Canvas, click on the (+) to create a dependency UDF to your data UDF.

2. Ask AI to create a map for you:

```text
Visualize this data on a standalone HTML map
```

<LazyReactPlayer 
  playsinline={true} 
  className="video__player" 
  playing={false} 
  muted={true} 
  controls 
  height="100%" 
  width="100%" 
  url="https://fused-magic.s3.us-west-2.amazonaws.com/workbench-walkthrough-videos/docs_rewrite/tutorials/dashboards/Creating_map_with_AI_compressed.mp4" 
/>

### Decouple your UDF from the map

Keep your data logic in a separate UDF from the map. This allows you to keep the 2 UDFs separate and iterate on them independently

Data UDF: Loads data, manipulates it and returns a GeoDataFrame or a DataFrame
Map UDF: Visualizes the data on a map with as little processing logic as possible

### Use `debug=True` in the Map UDFs to build faster

In the Map UDF code using the `map_utils` library set `debug=True` to see the map being built in real time:

<iframe
  src="https://unstable.udf.ai/fsh_2oppRjJv5aJOBEpf6YMJjg.html"
  style={{ width: "100%", height: "500px", border: "none", borderRadius: "8px", marginTop: "16px", marginBottom: "16px" }}
  title="Standalone Map Demo 2"
  loading="lazy"
  allowFullScreen
/>

You can then copy the config from the the debug mode, paste into your Map UDF and set `debug=False` to see the map in production.

## Examples

- Explore the [Canvas Catalog](/tutorials/Geospatial%20with%20Fused/canvas-catalog)
- Create rela time filtering maps with [DuckDB WASM](/tutorials/Analytics%20&%20Dashboard/realtime-data-processing-with-duckdb-wasm)

## Template Canvas

We put together a template Canvas you can use to see how to visualize:
- Static data (GeoDataFrame, DataFrame, etc.)
- [Tiled data](/tutorials/Geospatial%20with%20Fused/filetile/#tile-udf) for any dataset too large to serve as a single file

:::note Download this canvas to edit it yourself

You can download this canvas and then import it by drag & dropping the `.zip` file in your Workbench.

:::

{/* TODO: Add screenshot of canvas */}

{/* TODO: Add link to canvas */}
