---
id: build-with-llms
title: Build with LLMs
sidebar_label: Build with LLMs
sidebar_position: 2
---

# Building with LLMs: Getting things done, fast.

_Our mission at Fused is to help you get things done, fast. LLMs can help you write User Defined Functions, then leverage Fused to get feedback on your execution and make analytics faster_

This setup helps you setup [Cursor](https://www.cursor.com/) code editor in a way that helps you write & debug UDFs fast.

By the end of this guide you'll have:
- A custom Cursor setup that allows you to ask LLMs to write UDFs for you
- Cursor testing + debugging UDFs based on Fused best practices
- Gives you links to open UDFs in Workbench directly

## Requirements

- A Fused Account with an engine
- A [Cursor](https://www.cursor.com/) account
- Locally installed Cursor

## Setup

1. Make sure to have `fused` [installed locally](/python-sdk/#install). 

This is to help Cursor write UDFs, save them to Workbench for you as well as test & debug them. 

```python
pip install "fused[all]" # this installs optional dependencies especially helpful for geospatial operations
```

2. (Optional but recommended) Clone the `udfs` public [repo](https://github.com/fusedio/udfs)

At Fused we want to build things quickly so we made a [common set of functions](https://github.com/fusedio/udfs/blob/main/public/common/utils.py) that we often re-use
You can pass this to Cursor to help it write UDFs without having to re-invent the wheel.

```bash
git clone https://github.com/fusedio/udfs.git
cd udfs/
```

3. Start Cursor locally

Either click on it in your applications or:

```bash
cursor .
```

4. Give Cursor knowledge about Fused
- Go to Cursor settings -> "Indexing & Docs" -> "+ Add Docs"
- Give it `https://docs.fused.io/`

Under the hood Cursor will go index the Fused docs so it has access to all the examples, Python SDK & Best Practices.

5. Giving Cursor some Rules

We're constantly testing & tweaking the best practices for getting LLMs to help us write good UDFs. We can pass some of our findings to Cursor directly:
- Go to Cursor settings -> "Rules" -> "+ Add Rule"
- Copy the txt from this [Github Gist](https://gist.github.com/MaxLenormand/6c72f27192c8a81d51bdf2e8d964ab5f) directly into the text field

:::tip We're constantly updating these Rules

Come back every once in a while to get more recent rules as we explore with LLM models, improve our docs & best practices.

If you find anything helpful, let us know on [Discord](https://discord.com/invite/BxS5wMzdRk), we're always looking to improve!
:::

6. (Optional but recommended) Enable "Auto-Run"

You can ask Cursor to auto-run the code it suggests you:
- Go to Cursor settings -> "Chat" -> "Auto-Run"
- Enable "Auto-Run"

![Cursor Auto-Run](/img/user-guide/best-practices/build-with-llms/Cursor_auto_run_toggle.png)

:::warning Use auto run at your own risk!

Auto run allows Cursor to work in the background, iterate on a UDF as it tests it and iterating by itself. But it does so by running all the code it comes up with. 

We recommend you ask Cursor to make a UDF for you first without toggling this on so you can see what it's doing.

Keep in mind your LLM has access to:
- Overwrite your existing UDFs
- Deleting UDFs
- Running any UDF on your behalf

That being said, Auto-Run is still a great way to get things done fast!
:::

## Ask Cursor to write UDFs for you!

Start a new Chat and ask cursor to make a UDF for you:

```md
Write a new UDF that returns the building density for a given bounding box.
```

Cursor should give you a link to the UDF in Workbench that you can click on open!

![UDF written by Cursor in Wb](/img/user-guide/best-practices/build-with-llms/UDF_written_by_Cursor.png)

## Examples of what Cursor can help you with:

- Joining different UDFs together
    - Give it names of UDFs you want to combine, it should help you write a new UDF that joins them together
- Improve the performance of an existing UDF
    - Ask your LLM to improve a UDF you already have by looking at the Best Practices and seeing how it can help you
- Find interesting datasets from the list of [Public UDFs](https://www.fused.io/workbench/catalog?tab=public)


## Getting unblocked

<details>
<summary>Cursor can't run fused properly</summary>

If you get errors when trying to run fused commands in Cursor, it's likely because Cursor is not using the right Python environment. Here are a few things to try:

1. Make sure you have the right Python environment activated. You can do this by:
   - Opening the command palette (Cmd/Ctrl + Shift + P)
   - Searching for "Python: Select Interpreter"
   - Selecting the environment where you installed fused

2. If that doesn't work pass what you need to activate the correct environment to Fused as rule:
- Go to Cursor settings -> "Rules" -> "+ Add Rule"
- Give it instructions, for example:

```md
Always run:
`source /Users/user/miniforge3/etc/profile.d/conda.sh` and then `conda activate fused` to use the latest fused packages
```

3. Try restarting Cursor after activating the right environment

You might need to tinker a bit to make sure you've got the proper environment activated. If nothing else, ask Cursor to help you!

</details>

### Share your findings with us!

We're always looking to improve our best practices and make it easier to get things done with LLMs. 

If you have any feedback, let us know on [Discord](https://discord.com/invite/BxS5wMzdRk)!