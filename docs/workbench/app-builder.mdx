---
id: app-builder
title: App Builder
tags: [app]
sidebar_position: 0
---


import Tag from '@site/src/components/Tag'

## <Tag color="#D1E550" fontColor="#141414" >ðŸš§ Under Construction</Tag>

Build and share [Streamlit](https://docs.streamlit.io/) apps that call UDFs to run workflows and load data. Instantly generate a shareable URL with one click.

Apps run entirely in-browser and live reload thanks to [stlite](https://github.com/whitphx/stlite) and [Pyodide](https://pyodide.org/en/stable/). No need for servers, devops, or dependency management. Click "Copy shareable link" in the code editor share your app or `<iframe>` it.

- [Why Streamlit?](/workbench/app-builder/#why-streamlit)
- [Get started](/workbench/app-builder/#get-started)
- [Build apps](/workbench/app-builder/#build-apps), install [dependencies](/workbench/app-builder/#dependencies), and [debug](/workbench/app-builder/#debug)
- [Call Fused UDFs](/workbench/app-builder/#call-fused-udfs)
- Share with [URLs](/workbench/app-builder/#share) or [GitHub gists](/workbench/app-builder/#github-gists)

## Why Streamlit?

Since its inception in 2018, Streamlit emerged as the preferred framework to build interactive data projects with Python. It's ideal for Exploratory Data Analysis, rapid prototyping of UIs, no-code tools that interact with UDFs, interactive blog posts, and internal tools.

The decision to adopt Streamlit for the Fused app builder is rooted in its:
- **Expressivity:** Streamlit's simple, intuitive, and elegant syntax enables developers to effortlessly create stunning applications.
- **Development experience:** The framework supports rapid prototyping and iterative development - without leaving Python. Each time there is a user interaction, whether a code change or a widget interaction, stlite re-runs the app.
- **Shareability:** Applications run standalone on the browser without needing to stand up servers, manage access, nor manage dependencies. Scale to thousands.
- **Bring maps to life:** Interact with input widgets such as [sliders](https://docs.streamlit.io/develop/api-reference/widgets/st.slider) and [dropdowns](https://docs.streamlit.io/develop/api-reference/widgets/st.selectbox) to dynamically call UDFs.

### Synergy with Fused

Stlite is a Port of Streamlit to WASM. Its simplicitly comes from running on the browser. Its synergy with Fused UDFs overcomes possible limitations of browser-based execution.

- **Extensible:** Because pyodide runs on browser resources, it does not support all Python libraries, such as PyTorch or Tensorflow. Stlite can easily call Fused UDFs to run complex workflows involving any Python library.
- **Secure:** Browser-based apps are inherently exposed to public access. Stlite can lean on the secret management features of Fused UDFs to interact with sensitive data stores.
- **Blazing fast:** Stlite gives instant responsivity to apps once it loads data to the browser memory, but the browser's processing power is limited. To overcome this, stlite can load and cache data from Fused UDFs that run complex workflows - with a single line of code.

## Get started

Write code on the online editor and create a shareable URL in one click.

import Iframe from "@site/src/components/Iframe";
import CODE from "@site/src/app-iframe/python/nsi.py";

<Iframe
  id="iframe-1"
  code={CODE}
  requirements={[
    "/pyarrow/pyarrow-17.0.0-cp312-cp312-pyodide_2024_0_wasm32.whl",
    "micropip",
    "pyodide-unix-timezones", // needed by pyarrow
    "geopandas",
    "requests",
    "xarray",
    "yarl",
    // Commonly used in product:
    "pydeck",
  ]}
/>


## Build apps



Add [widgets](https://docs.streamlit.io/develop/api-reference/widgets) that interact with UDFs, display data with [data](https://docs.streamlit.io/develop/api-reference/data) and [text](https://docs.streamlit.io/develop/api-reference/text) elements, and structure the app with [layout components](https://docs.streamlit.io/develop/api-reference/layout). If you're new to Streamlit, check out the [Streamlit Get Started](https://docs.streamlit.io/get-started) page.

```python
import streamlit as st

st.write("Hello, *Fused!* :rocket:")
```

By default, your app updates every time you change its code. This can be configured in the settings.

## Dependencies

Click "Requirements" on the top-right menu of the code editor to set Python packages for the app. This is limited to packages compatible with Pyodide. Please get in touch if you need help with a specific package.


## Debug

Click "Reset app" on the top-right menu of the code editor in case things aren't working as expected.


## Call Fused UDFs

These snippets illustrate a few ways to call UDFs.

### With `fused_app.run` (beta)

Call a UDF with `fused_app.run`.

```python
import fused_app
import streamlit as st

threshold = st.sidebar.slider("Threshold", 0, 1000, 250)
token = "dbd709c58f1d828bb06f3fc53991963910dc585ab45b692b5981bd78a78fa43a"
df = fused_app.run(token, threshold=threshold)

```

### HTTP endpoints

Call Fused UDFs with HTTP endpoints.

```python
import streamlit as st
import requests

city = st.selectbox("Select city", ("Boston", "Paris", "New York"))
url = f"https://staging.fused.io/server/v1/realtime-shared/fsh_1bkKoOETvhhQ7TtKfwOQ7i/run/file?dtype_out_vector=geojson&city={city}"

response = requests.get(url)
st.write(response.content)
```

### Pandas

Create a [pandas](https://pandas.pydata.org/docs/user_guide/index.html) `DataFrame` from a UDF HTTP endpoint.

```python
import streamlit as st
import pandas as pd

url = f"https://staging.fused.io/server/v1/realtime-shared/fsh_1bkKoOETvhhQ7TtKfwOQ7i/run/file?dtype_out_vector=csv&city=Boston"
df = pd.read_csv(url)
st.data_editor(df.head())
```

### Pydeck

Create [pydeck](https://deckgl.readthedocs.io/en/latest/layer.html) layers with UDF HTTP endpoints.

```python
import pydeck as pdk
import streamlit as st

url_overture = "https://www.fused.io/server/v1/realtime-shared/c8679490a7c130178e2781a45f4090208c9bcd8d8d7572532c4c39c4d0914467/run/tiles/{z}/{x}/{y}?dtype_out_vector=geojson&return_object=gdf_overture"
st.pydeck_chart(
    pdk.Deck(
        map_style="mapbox://styles/mapbox/dark-v9",
        initial_view_state=pdk.ViewState(latitude=40.7431, longitude=-73.9874, zoom=14, pitch=25),
        layers=[
            pdk.Layer(
                "TileLayer",
                data=url_overture,
                get_line_color=[255, 25, 2, 100],
                stroked=True,
                get_line_width=2,
                pickable=True,
                filled=False,
            )
        ],
    )
)
```

## Share

Shared apps run without authentication. Public URLs have a token like `https://www.fused.io/workbench#app/s/i/fa_45G5QVNVUPJPo4jr6k4mtY`. In private URLs, code is encoded in the URL like `https://www.fused.io/workbench#app/s/aH4sIAAAAAAAAA` to save, share, and restore the app.

## GitHub gists

Load an app from a Github Gist directly from the UI or by appending the gist ID to the URL like `https://www.fused.io/workbench#app/s/u/https://gist.github.com/pgzmnk/43045302f3b668ab5482d8a23f6f4de5`.


## App gallery

## <Tag color="#D1E550" fontColor="#141414" >ðŸš§ Coming soon...</Tag>
