---
id: code-editor
title: Code Editor
tags: [code, editor, workbench]
sidebar_position: 1
---

The Code Editor is where developers write UDFs using standard Python libraries and installed [dependencies](/python-sdk/dependencies/). The [Editor](/workbench/udf-builder/code-editor/#editor), [Module](/workbench/udf-builder/code-editor/#module), [Visualize](/workbench/udf-builder/code-editor/#visualize), and [Settings](/workbench/udf-builder/code-editor/#settings) tabs contain functionality to organize code, create [HTTP endpoints](/core-concepts/run/#http-requests), and configure the UDF.



import ImageDCVector from '@site/static/img/dc_vector.png';

<div style={{textAlign: 'center'}}>
<img src={ImageDCVector} alt="File" style={{width: '100%'}} />
</div>



## Editor

The editor contains the UDF's [function declaration](/core-concepts/write/#function-declaration). Whenever code is updated, Fused automatically runs the function named `udf` that is decorated with [`@fused.udf`](/core-concepts/write/#fusedudf-decorator) and returns the output. Other UDFs declared in the editor are ignored unless referenced by the main `udf` function.

### Debug

To enhance developer experience, the editor highlights errors in the code as they occur. Associated error messages appear below the map.

![Alt text](https://fused-magic.s3.us-west-2.amazonaws.com/docs_assets/gifs/editor_error.gif)



## Module

A Fused UDF can import Python objects from its accompanying [utils Module](/core-concepts/write/#utils-module), defined in the Module's code editor. The module's default name is `utils` and can be changed to avoid naming collisions. In this example, UDF imports the function `arr_to_plasma` from its `utils` Module.

```python showLineNumbers
@fused.udf
def udf(bbox):
    from utils import arr_to_plasma
    return arr_to_plasma(arr.values, min_max=(0, .8))
```

![Alt text](https://fused-magic.s3.us-west-2.amazonaws.com/docs_assets/image-33.png)



## Visualize

Valid vector tables or a raster objects returned by UDFs can be rendered on the [map](/workbench/udf-builder/map/). The "Visualize" tab is where the output's visual style can be configured. See the [layer styling](/workbench/udf-builder/styling/) page for more details on syntax and internals.

## Settings

The Settings tab contains functionality to toggle the [cache](/workbench/udf-builder/code-editor/#cache), configure [metadata](/workbench/udf-builder/code-editor/#metadata), and [share](/workbench/udf-builder/code-editor/#share-snippets) a UDF.

### Cache

When caching is enabled for a UDF, Fused stores the UDF's output the first time it sees the code and parameters. Subsequent calls to the UDF with the same code and parameters skip execution and return the cached output.

The cache is stored by default in the user's S3 bucket, managed by Fused. Get in touch to configure something different.

![Alt text](https://fused-magic.s3.us-west-2.amazonaws.com/docs_assets/image-28.png)

### Metadata


#### Default parameter values

UDFs by default run the [parameters](/core-concepts/write/#typed-parameters) specified in their function declaration. On the UDF editor, it's possible to set predefined values that will appear in the layer's dropdown.

![Alt text](https://fused-magic.s3.us-west-2.amazonaws.com/docs_assets/gifs/parameters.gif)

#### Default view state

Clicking the "Zoom to layer" button on the UDF layer zooms the viewport to the preconfigured view, or to the extent of the output object if no view is set.

![Alt text](https://fused-magic.s3.us-west-2.amazonaws.com/docs_assets/gifs/zoom_to_layer.gif)

The default view state can be set automatically to the present map view, or manually.

![Alt text](https://fused-magic.s3.us-west-2.amazonaws.com/docs_assets/default_view_state.png)



#### Image preview


UDFs in the [UDF Catalog](/workbench/udf-catalog/) show a preview thumbnail. The URL to the image can be set in the "Image preview" field.

![Alt text](https://fused-magic.s3.us-west-2.amazonaws.com/docs_assets/image-30.png)

#### Tags

A UDFs tags can be set to help with discoverability in the [UDF catalog](/workbench/udf-catalog/).

![Alt text](https://fused-magic.s3.us-west-2.amazonaws.com/docs_assets/image-31.png)

#### Description


UDFs can be documented using [Markdown](https://www.markdownguide.org/basic-syntax/) with a brief description of their purpose, code, and associated datasets. The description appears in the UDF profile and `README.md` file.



### Share snippets

UDFs saved in the UDF Builder can be called with [HTTP endpoints](/core-concepts/run/#http-requests) using [shared](/core-concepts/run/#shared-token) and [private tokens](/core-concepts/run/#private-token).

The "Share" sections shows snippets to run the UDF from different tools without authentication, using a publicly shareable token. These include `cURL` calls, [`fused.run`](/core-concepts/run/#fusedrun), [Lonboard](/user-guide/out/lonboard/), [Leaflet](/user-guide/out/leaflet/), [Mapbox](/user-guide/out/mapbox/), [Google Sheets](/user-guide/out/googlesheets/), [DuckDB](/user-guide/out/duckdb/), and the Fused [App Builder](/workbench/app-builder/).




import ImageShare from '@site/static/img/share.png';

<div style={{textAlign: 'center'}}>
<img src={ImageShare} alt="File" style={{width: '90%'}} />
</div>


### Private snippets

The "Snippets" subsection shows snippets that can only be called by services authenticated with a private token. These include `Python`, `cURL`, and `fused.load`.


import ImageSnippets from '@site/static/img/snippets.png';

<div style={{textAlign: 'center'}}>
<img src={ImageSnippets} alt="File" style={{width: '90%'}} />
</div>



## Toolbar

The toolbar at the top of the code editor includes buttons to configure, duplicate, download, and delete a UDF, as well as view its history and push it to GitHub.

### GitHub


Organizations with the [GitHub Integration](/core-concepts/content-management/git/#connect-your-github-repository) enabled can push UDFs to a GitHub repository as a [Pull Request](https://docs.github.com/en/pull-requests) or restore a prior version of a UDF from the commit history.


### Download

Clicking "Download" [saves the UDF](/core-concepts/write/#save-udfs) and downloads a `.zip` file with the UDF code, module, and configuration.

![Alt text](https://fused-magic.s3.us-west-2.amazonaws.com/docs_assets/image-34.png)

### Auto, Tile, and File

On UDF Builder, UDFs can explicitly be set to run as [Tile or File](/core-concepts/filetile/) - or autoselect between the two if the `bbox` object is [typed](/core-concepts/filetile/#bbox-object-types).

![alt text](@site/static/img/autofiletile.png)
