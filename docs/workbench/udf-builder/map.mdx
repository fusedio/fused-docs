---
id: map
title: Map
tags: [map]
sidebar_position: 5
---



As developers edit UDFs in the [Code Editor](/workbench/udf-builder/code-editor/) and explore data, they can receive immediate visual feedback on the affect of the code's transformations on the data.

## Geospatial data

Fused will render `gpd.GeoDataFrame`, `gpd.GeoSeries`, and `shapely geometry` UDF outputs as geometries on the map if their CRS is `EPSG:4326` - otherwise Fused will make a best-effort to project and render them.

To render array (raster) objects on the map, they must be `uint8` and define their spatial extent. Objects like `xarray.DataArray` already contain spatial metadata. The spatial extent of arrays without spatial metadata, like `numpy.ndarray`, can be specified with a geometry object or an array bounds as `[xmin, ymin, xmax, ymax]`. If the bounds are not present, they default to `(-180, -90, 180, 90)`.
```python
return np.array([[…], […]]), [xmin, ymin, xmax, ymax]
```

In the case of UDFs that render [map Tiles](/core-concepts/filetile/#map-tiles), Fused runs the UDF for only the Tiles in the viewport. This enables users to develop on the fraction of a dataset corresponding to the viewport area, then easily run the UDF for other areas.

![Alt text](https://fused-magic.s3.us-west-2.amazonaws.com/docs_assets/gifs/viewport_sf.gif)

### Map controls

The map can be panned by dragging the viewport, zoomed in and out, and rotated with `CMD` + Scroll.

The top of the map has controls to interact with the viewport. These include an address search bar, a basemap selector, a screenshot button, a fullscreen toggle, and a dropdown to pause, resume, or reset UDF execution.


![Alt text](https://fused-magic.s3.us-west-2.amazonaws.com/docs_assets/gifs/map_toolbar_v7.gif)

## Debug

Clicking on map features enters debug mode.

When data renders successfully on the map, clicking or hovering on it shows attributes for selected pixels or geometries. When data doesn't render, clicking errored tiles shows error messages and debugging information. Additional debugging information can be found in the [Results](/workbench/udf-builder/results/) pane.

Exit debug mode by pressing the "Escape" key or by clicking "Clear debug selection" in the bottom right-hand of the map.


![Alt text](https://fused-magic.s3.us-west-2.amazonaws.com/docs_assets/gifs/viewport_debugger.gif)
