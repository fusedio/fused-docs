---
id: build-with-llms
title: Build with LLMs
sidebar_label: Build with LLMs
sidebar_position: 2
---

# Construire avec les LLMs : Faire les choses rapidement.

_Notre mission chez Fused est de vous aider à accomplir des tâches rapidement. Les LLMs peuvent vous aider à écrire des User Defined Functions, puis à tirer parti de Fused pour obtenir des retours sur votre exécution et rendre l'analytique plus rapide._

Cette configuration vous aide à configurer l'éditeur de code [Cursor](https://www.cursor.com/) d'une manière qui vous aide à écrire et déboguer des UDFs rapidement.

À la fin de ce guide, vous aurez :
- Une configuration personnalisée de Cursor qui vous permet de demander aux LLMs d'écrire des UDFs pour vous
- Des tests et débogages de Cursor pour les UDFs basés sur les meilleures pratiques de Fused
- Des liens pour ouvrir des UDFs directement dans Workbench

<iframe width="800" height="450" src="https://www.loom.com/embed/d1ba1c3d47334485851a3d6fabed741c?sid=9461289f-9d08-4e9c-a343-bf4afd3da920" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>

## Exigences

- Un compte Fused avec un moteur
- Un compte [Cursor](https://www.cursor.com/)
- Cursor installé localement (mettez à jour vers la dernière version)

## Configuration

_Si vous êtes bloqué, consultez certains des problèmes courants dans la section [Getting unblocked](#getting-unblocked) à la fin de ce guide._

#### 1. Installez `fused` [localement](/python-sdk/#python-install). 

Cela aide Cursor à écrire des UDFs, à les enregistrer dans Workbench pour vous ainsi qu'à les tester et les déboguer.

```python
pip install "fused[all]" # cela installe des dépendances optionnelles particulièrement utiles pour les opérations géospatiales
```

Vous devez également être [connecté](/python-sdk/#python-install) à votre compte Fused pour que Cursor puisse enregistrer des UDFs dans Workbench pour vous. Vous pouvez tester cela avec :

```python
import fused
fused.api.whoami()

>>>
{
    'name': 'user@example.com',
    ...
    'is_active': True, # si vous voyez cela, vous êtes connecté !
    ...
}
```

#### 2. (Optionnel mais recommandé) Clonez le `udfs` public [repo](https://github.com/fusedio/udfs)

Chez Fused, nous voulons construire des choses rapidement, donc nous avons créé un [ensemble commun de fonctions](https://github.com/fusedio/udfs/blob/main/public/common/utils.py) que nous réutilisons souvent. Vous pouvez le passer à Cursor pour l'aider à écrire des UDFs sans avoir à réinventer la roue.

```bash
git clone https://github.com/fusedio/udfs.git
cd udfs/
```

#### 3. Démarrez Cursor localement

Soit cliquez dessus dans vos applications, soit :

```bash
cursor .
```

#### 4. Donnez à Cursor des connaissances sur Fused

<details>
<summary>Mettre à jour Cursor vers la dernière version</summary>

Cursor et tous les outils d'IA évoluent si rapidement que nous vous recommandons de mettre à jour Cursor vers la dernière version. 
Certains des agencements exacts peuvent changer d'ici à ce que vous lisiez cela.

Sur Mac, vous pouvez mettre à jour Cursor en cliquant sur l'application en haut à gauche et en sélectionnant "Vérifier les mises à jour".

![Update Cursor](/img/user-guide/best-practices/build-with-llms/Cursor_check_for_updates.png)

</details>

- Allez dans les paramètres de Cursor -> "Indexation & Docs" -> "+ Ajouter des Docs"
- Donnez-lui `https://docs.fused.io/`

En coulisses, Cursor ira indexer la documentation de Fused afin d'avoir accès à tous les exemples, SDK Python et meilleures pratiques.

#### 5. Donner à Cursor quelques [Règles](https://docs.cursor.com/context/rules)

Cursor prend en charge le passage de [règles](https://docs.cursor.com/context/rules) pour l'aider à écrire un meilleur code.

Nous testons et ajustons constamment les meilleures pratiques pour amener les LLMs à nous aider à écrire de bons UDFs. Nous pouvons passer certaines de nos découvertes à Cursor directement :
- Allez dans les paramètres de Cursor -> "Règles" -> "+ Ajouter une Règle"
- Copiez le texte de ce [Github Gist](https://gist.github.com/MaxLenormand/6c72f27192c8a81d51bdf2e8d964ab5f) directement dans le champ de texte

:::tip Nous mettons constamment à jour ces Règles

Revenez de temps en temps pour obtenir des règles plus récentes alors que nous explorons avec des modèles LLM, améliorons notre documentation et nos meilleures pratiques.

Si vous trouvez quelque chose d'utile, faites-le nous savoir sur [Discord](https://discord.com/invite/BxS5wMzdRk), nous cherchons toujours à nous améliorer !
:::

#### 6. Sélectionnez les bons modèles

Lorsque vous démarrez un nouveau chat, vous pouvez sélectionner le modèle que vous souhaitez utiliser. Au moment de la rédaction de ceci (juin 2025), nous recommandons :

- `claude-4-sonnet` pour obtenir les meilleurs résultats (bien que cela prenne un peu plus de temps pour répondre)

![Claude model selection](/img/user-guide/best-practices/build-with-llms/Cursor_select_model.png)

#### 6. (Optionnel mais recommandé) Activer "Auto-Run"

Vous pouvez demander à Cursor d'exécuter automatiquement le code qu'il vous suggère :
- Allez dans les paramètres de Cursor -> "Chat" -> "Auto-Run"
- Activez "Auto-Run"

![Cursor Auto-Run](/img/user-guide/best-practices/build-with-llms/Cursor_auto_run_toggle.png)

:::warning Utilisez l'auto-exécution à vos risques et périls !

L'auto-exécution permet à Cursor de travailler en arrière-plan, d'itérer sur un UDF pendant qu'il le teste et d'itérer par lui-même. Mais il le fait en exécutant tout le code qu'il propose. 

Nous vous recommandons de demander d'abord à Cursor de créer un UDF pour vous sans activer cela afin que vous puissiez voir ce qu'il fait.

Gardez à l'esprit que votre LLM a accès à :
- Écraser vos UDFs existants
- Supprimer des UDFs
- Exécuter n'importe quel UDF en votre nom

Cela dit, l'Auto-Run est toujours un excellent moyen d'accomplir des tâches rapidement !
:::

## Demandez à Cursor d'écrire des UDFs pour vous !

Démarrez un nouveau chat et demandez à Cursor de créer un UDF pour vous :

```md
Écrivez un nouvel UDF qui retourne la densité de construction pour une boîte englobante donnée.
```

Cursor devrait vous donner un lien vers l'UDF dans Workbench sur lequel vous pouvez cliquer pour l'ouvrir !

![UDF written by Cursor in Wb](/img/user-guide/best-practices/build-with-llms/UDF_written_by_Cursor.png)

## Exemples de ce que Cursor peut vous aider à faire :

- Joindre différents UDFs ensemble
    - Donnez-lui les noms des UDFs que vous souhaitez combiner, il devrait vous aider à écrire un nouvel UDF qui les joint ensemble
- Améliorer les performances d'un UDF existant
    - Demandez à votre LLM d'améliorer un UDF que vous avez déjà en consultant les Meilleures Pratiques et en voyant comment il peut vous aider
- Trouver des ensembles de données intéressants dans la liste des [UDFs Publics](https://www.fused.io/workbench/catalog?tab=public)

## Se débloquer

<details>
<summary>Cursor ne peut pas exécuter `fused` localement correctement</summary>

Si vous obtenez des erreurs en essayant d'exécuter des commandes fused dans Cursor, c'est probablement parce que Cursor n'utilise pas le bon environnement Python. Voici quelques choses à essayer :

1. Assurez-vous d'avoir le bon environnement Python activé. Vous pouvez le faire en :
   - Ouvrant la palette de commandes (Cmd/Ctrl + Shift + P)
   - Cherchant "Python : Sélectionner l'interpréteur"
   - Sélectionnant l'environnement où vous avez installé fused

2. Si cela ne fonctionne pas, passez ce dont vous avez besoin pour activer l'environnement correct à Fused en tant que règle :
- Allez dans les paramètres de Cursor -> "Règles" -> "+ Ajouter une Règle"
- Donnez-lui des instructions, par exemple :

```md
Exécutez toujours :
`source /Users/user/miniforge3/etc/profile.d/conda.sh` puis `conda activate fused` pour utiliser les derniers packages fused
```

3. Essayez de redémarrer Cursor après avoir activé le bon environnement

Vous devrez peut-être ajuster un peu pour vous assurer que vous avez activé l'environnement approprié. Si rien d'autre, demandez à Cursor de vous aider !

</details>

<details>
<summary>L'agent Cursor se bloque après l'exécution de certains codes</summary>

Cela semble être un bug si vous avez `zsh` et `powerlevel10k`. 

Au moment de la rédaction, cela n'est pas entièrement résolu, mais les forums [recommandent de modifier](https://forum.cursor.com/t/cursor-agent-mode-when-running-terminal-commands-often-hangs-up-the-terminal-requiring-a-click-to-pop-it-out-in-order-to-continue-commands/59969/44) votre fichier `.zshrc` pour supprimer le plugin `powerlevel10k`.

</details>

<details>

<summary>Je ne vois pas certains de ces paramètres dans les paramètres de Cursor</summary>

Cursor et les outils d'IA évoluent si rapidement que nous vous recommandons de mettre à jour Cursor vers la dernière version car certains des agencements exacts continuent de changer.

Sur Mac, vous pouvez mettre à jour Cursor en cliquant sur l'application en haut à gauche et en sélectionnant "Vérifier les mises à jour".

![Update Cursor](/img/user-guide/best-practices/build-with-llms/Cursor_check_for_updates.png)

</details>

<details>
<summary>Je ne vois pas l'UDF que j'ai écrit dans Workbench</summary>

Vous n'êtes peut-être pas connecté à votre compte Fused. Essayez :

```python
import fused
fused.api.whoami()

>>>
{
    'name': 'user@example.com',
    ...
    'is_active': True, # si vous voyez cela, vous êtes connecté !
    ...
}
```

Cursor n'a peut-être pas pu enregistrer l'UDF dans Workbench. Parfois, demandez-lui simplement à nouveau ! Il peut également vous donner le nom de l'UDF qu'il a écrit, que vous pouvez ensuite trouver dans vos UDFs Enregistrés dans Workbench.

</details>

### Partagez vos découvertes avec nous !

Nous cherchons toujours à améliorer nos meilleures pratiques et à faciliter l'accomplissement de tâches avec les LLMs. 

Si vous avez des retours, faites-le nous savoir sur [Discord](https://discord.com/invite/BxS5wMzdRk) !