---
sidebar_label: JobPool
title: JobPool
toc_max_heading_level: 5
---

## JobPool

La classe `JobPool` est utilisée pour gérer, inspecter et récupérer les résultats des
tâches soumises via [`fused.submit()`](/python-sdk/top-level-functions/#fusedsubmit).

### cancel

```python
cancel(wait: bool = False)
```

Annule toutes les tâches en attente (non en cours d'exécution).

Notez qu'il ne sera pas possible de réessayer sur le même JobPool plus tard.

---

### retry

```python
retry()
```

Relance toutes les tâches en état d'erreur ou de délai d'attente. Les tâches sont relancées dans le même pool.

---

### total_time

```python
total_time(since_retry: bool = False) -> timedelta
```

Retourne combien de temps a pris l'ensemble de la tâche.

Si seuls des résultats partiels sont disponibles, retourne en fonction de la dernière tâche qui a été complétée.

---

### times

```python
times() -> list[timedelta | None]
```

Temps pris pour chaque tâche.

Les tâches incomplètes seront signalées comme None.

---

### done

```python
done() -> bool
```

Vrai si toutes les tâches sont terminées, indépendamment du succès ou de l'échec.

---

### all_succeeded

```python
all_succeeded() -> bool
```

Vrai si toutes les tâches se sont terminées avec succès

---

### any_failed

```python
any_failed() -> bool
```

Vrai si une tâche s'est terminée avec une erreur

---

### any_succeeded

```python
any_succeeded() -> bool
```

Vrai si une tâche s'est terminée avec succès

---

### arg_df

```python
arg_df()
```

Les arguments passés aux exécutions sous forme de DataFrame

---

### status

```python
status()
```

Retourne une série indexée par le statut des comptes de tâches

---

### wait

```python
wait()
```

Attendez que toutes les tâches soient terminées

Utilisez fused.options.show.enable_tqdm pour activer/désactiver tqdm.
Utilisez pool.\_wait_sleep pour définir si un sommeil doit se produire pendant l'attente.

---

### tail

```python
tail(stop_on_exception = False)
```

Attendez que toutes les tâches soient terminées, en imprimant les statuts au fur et à mesure qu'ils deviennent disponibles.

Ceci est utile pour surveiller de manière interactive l'état du pool.

Utilisez pool.\_wait_sleep pour définir si un sommeil doit se produire pendant l'attente.

---

### results

```python
results(return_exceptions = False) -> list[Any]
```

Récupérez tous les résultats de la tâche.

Les résultats sont ordonnés selon l'ordre de la liste des arguments.

---

### results_now

```python
results_now(return_exceptions = False) -> dict[int, Any]
```

Récupérez les résultats qui sont actuellement terminés.

Les résultats sont indexés par position dans la liste des arguments.

---

### df

```python
df(
    status_column: str | None = "status",
    result_column: str | None = "result",
    time_column: str | None = "time",
    logs_column: str | None = "logs",
    exception_column: str | None = None,
    include_exceptions: bool = True,
)
```

Obtenez un DataFrame des résultats tels qu'ils sont actuellement.
Le DataFrame aura des colonnes pour chaque argument passé, et des colonnes pour :
`status`, `result`, `time`, `logs` et éventuellement `exception`.

---

### get_status_df

```python
get_status_df()
```

---

### get_results_df

```python
get_results_df(ignore_exceptions = False)
```

---

### errors

```python
errors() -> dict[int, Exception]
```

Récupérez les résultats qui sont actuellement terminés et qui sont des erreurs.

Les résultats sont indexés par position dans la liste des arguments.

---

### first_error

```python
first_error() -> Exception | None
```

Récupérez le premier résultat d'erreur (par ordre des arguments), ou None.

---

### logs

```python
logs() -> list[str | None]
```

Journaux pour chaque tâche.

Les tâches incomplètes seront signalées comme None.

---

### first_log

```python
first_log() -> str | None
```

Récupérez les premiers journaux (par ordre des arguments), ou None.

---

### success

```python
success() -> dict[int, Any]
```

Récupérez les résultats qui sont actuellement terminés et qui sont réussis.

Les résultats sont indexés par position dans la liste des arguments.

---

### pending

```python
pending() -> dict[int, Any]
```

Récupérez les arguments qui sont actuellement en attente et pas encore soumis.

---

### running

```python
running() -> dict[int, Any]
```

Récupérez les résultats qui sont actuellement en cours d'exécution.

---

### cancelled

```python
cancelled() -> dict[int, Any]
```

Récupérez les arguments qui ont été annulés et non exécutés.

---

### collect

```python
collect(ignore_exceptions = False, flatten = True)
```

Collectez tous les résultats dans un DataFrame

---